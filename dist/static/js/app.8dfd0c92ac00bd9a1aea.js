webpackJsonp([1],{"/YY7":function(t,e){},"2zAo":function(t,e){},"9n10":function(t,e){},FY5P:function(t,e){},MgEO:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({data:function(){return{}},mounted:function(){}},s,!1,function(t){i("Pgrf")},"data-v-e9b5dfe0",null).exports,a=i("/ocq"),c=i("Dd8w"),o=i.n(c),l=i("NYxO"),u={name:"TopHeader",mounted:function(){},computed:o()({},Object(l.d)(["city"]),Object(l.b)(["doubleCity"]))},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"header-left"}),t._v(" "),i("div",{staticClass:"header-input"},[i("input",{attrs:{placeholder:"输入城市/景点/游玩主题",type:"text"}}),t._v(" "),i("BaseIcon",{staticClass:"header-icon-search",attrs:{iconText:"icon-sousuo"}})],1),t._v(" "),i("div",{staticClass:"header-right",on:{click:function(e){t.$router.push("/city")}}},[t._v("\n    "+t._s(t.city)+"\n    "),i("BaseIcon",{attrs:{iconText:"icon-jiantou"}})],1)])},staticRenderFns:[]};var h=i("VU/8")(u,d,!1,function(t){i("FY5P")},null,null).exports,v={name:"HomeSwiper",props:{swiper:{type:Array,required:!0}},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"},loop:!0,autoplay:{delay:2500,disableOnInteraction:!1}}}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home-swiper"},[e("swiper",{attrs:{options:this.swiperOption}},[this._l(this.swiper,function(t){return e("swiper-slide",{key:t.id},[e("img",{attrs:{src:t.imgUrl,alt:""}})])}),this._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},staticRenderFns:[]};var m=i("VU/8")(v,f,!1,function(t){i("2zAo")},"data-v-91c10026",null).exports,p={name:"HomeCategory",props:{iconList:{type:Array,required:!0}},computed:{pages:function(){var t=[];return this.iconList.forEach(function(e,i){var n=Math.floor(i/8);t[n]||(t[n]=[]),t[n].push(e)}),t}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-category"},[i("swiper",t._l(t.pages,function(e,n){return i("swiper-slide",{key:n},[i("div",{staticClass:"category-container"},t._l(e,function(e){return i("div",{key:e.id,staticClass:"item"},[i("img",{staticClass:"item-img",attrs:{src:e.imgUrl,alt:""}}),t._v(" "),i("p",[t._v(t._s(e.desc))])])}))])}))],1)},staticRenderFns:[]};var _=i("VU/8")(p,y,!1,function(t){i("ubYT")},"data-v-cc301220",null).exports,C={name:"HomeHotSales",props:{homeHotSaleList:{type:Array,required:!0}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hot-sales"},[i("div",{staticClass:"title"},[t._v("\n    热销推荐\n  ")]),t._v(" "),i("ul",{staticClass:"hot-sales-content"},t._l(t.homeHotSaleList,function(e){return i("li",{key:e.id,staticClass:"hot-sales-item"},[i("div",{staticClass:"left-img"},[i("img",{attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"right-text"},[i("h3",{staticClass:"text-title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"text-content"},[t._v(t._s(e.desc))]),t._v(" "),i("p",{staticClass:"text-detail"},[t._v("查看详情")])])])}))])},staticRenderFns:[]};var H=i("VU/8")(C,g,!1,function(t){i("bj0y")},"data-v-03857893",null).exports,w={name:"HomeWeekend",props:{weekendList:{type:Array,required:!0}}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-weekend"},[i("div",{staticClass:"title"},[t._v("\n    周末去哪儿\n  ")]),t._v(" "),t._l(t.weekendList,function(e){return i("div",{key:e.id,staticClass:"weekend-item"},[i("div",{staticClass:"item-img"},[i("img",{attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"item-content"},[t._v(t._s(e.desc))])])})],2)},staticRenderFns:[]};var x=i("VU/8")(w,k,!1,function(t){i("PWRy")},"data-v-296911c0",null).exports,L=i("//Fk"),S=i.n(L),$=i("mtWM"),b="https://easy-mock.com/mock/5b2e15c2d901cc25e7df4e0c",T="/travel",I=i.n($).a.create({baseURL:""+b+T,timeout:8e3});I.interceptors.request.use(function(t){return t},function(t){return S.a.reject(t)}),I.interceptors.response.use(function(t){return t.data},function(t){return S.a.reject(t)});var F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return function(i,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};I({method:e,url:t,data:i}).then(function(t){return n(t)},function(t){return s(t)})}},E=F("/home","post"),O=F("/city","post"),U={name:"Home",data:function(){return{swiper:[],iconList:[],homeHotSaleList:[],weekendList:[]}},components:{HomeHeader:h,HomeSwiper:m,HomeCategory:_,HomeSales:H,HomeWeek:x},mounted:function(){this.getList()},methods:{getList:function(){var t=this;E({},function(e){var i=e.data;t.swiper=i.swiperList,t.iconList=i.iconList,t.homeHotSaleList=i.recommendList,t.weekendList=i.weekendList})}}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("HomeHeader"),t._v(" "),i("HomeSwiper",{attrs:{swiper:t.swiper}}),t._v(" "),i("HomeCategory",{attrs:{iconList:t.iconList}}),t._v(" "),i("HomeSales",{attrs:{homeHotSaleList:t.homeHotSaleList}}),t._v(" "),i("HomeWeek",{attrs:{weekendList:t.weekendList}})],1)},staticRenderFns:[]};var R=i("VU/8")(U,q,!1,function(t){i("z7v2")},null,null).exports,P=i("fZjL"),j=i.n(P),V=i("GQaK"),A={name:"CityHeader",props:{cities:{type:Object,require:!0}},data:function(){return{keywords:"",list:[]}},mounted:function(){this.$bus.$emit("cityHeaderHeight",this.$refs.cityHeader.clientHeight),this.scroll=new V.a(this.$refs.wrapper)},computed:{noMatch:function(){return!this.list.length}},methods:o()({handleCityClick:function(t){this.changeCity(t),this.$router.push("/home")}},Object(l.c)(["changeCity"])),watch:{keywords:function(t){var e=this;this.list=[],clearInterval(this.timer),this.timer=setTimeout(function(){for(var i in e.cities)e.cities.hasOwnProperty(i)&&e.cities[i].map(function(i){(i.spell.indexOf(t)>-1||i.name.indexOf(t)>-1)&&e.list.push(i)})},100)}}},M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cityHeader",staticClass:"city-header"},[i("div",{staticClass:"city-header-top"},[i("BaseIcon",{staticClass:"city-back",attrs:{iconText:"icon-fanhui"},nativeOn:{click:function(e){t.$router.go(-1)}}}),t._v(" "),i("h2",[t._v("城市选择")])],1),t._v(" "),i("div",{staticClass:"city-header-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"输入城市名或拼音"},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.keywords,expression:"keywords"}],ref:"wrapper",staticClass:"city-content"},[i("ul",[t._l(t.list,function(e){return i("li",{key:e.id,staticClass:"city-list",on:{click:function(i){t.handleCityClick(e.name)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.noMatch,expression:"noMatch"}],staticClass:"city-list"},[t._v("没有找到匹配数据")])],2)])])},staticRenderFns:[]};var Y=i("VU/8")(A,M,!1,function(t){i("dS2I")},"data-v-60aa944c",null).exports,z={props:{cities:{type:Object,required:!0},hotCities:{type:Array,required:!0},position:{type:String,required:!0}},mounted:function(){var t=this;this.$nextTick(function(){t.initScroll()})},computed:{calculateHeight:function(){for(var t=[],e=document.querySelector(".city-current"),i=document.querySelector(".city-hot"),n=e.clientHeight+i.clientHeight,s=document.querySelectorAll(".city-content"),r=0;r<s.length;r++)t.push(n),n+=s[r].clientHeight;return t},currentCity:function(){return this.$store.state.city}},watch:{position:function(t){if(t){var e=this.$refs[t];this.scroll.scrollToElement(e[0],200,0,0)}}},methods:{initScroll:function(){this.scroll=new V.a(this.$refs.wrapper,{probeType:3}),this.scroll.on("scroll",this.onScroll)},onScroll:function(t){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){for(var i=-t.y,n=0;n<e.calculateHeight.length;n++){if(i<Math.floor(e.calculateHeight[n]-3))return console.log("i",n),void e.$emit("letterScroll",n-1);i>e.calculateHeight[e.calculateHeight.length-1]-3&&e.$emit("letterScroll",n)}},16)},handleCityClick:function(t){this.$store.commit("changeCity",t),this.$router.push("/home")}}},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",staticClass:"city-list"},[i("div",{staticClass:"content"},[i("div",{staticClass:"city-current"},[i("h2",{staticClass:"city-title"},[t._v("当前城市")]),t._v(" "),i("div",{staticClass:"city-box"},[i("p",[t._v(t._s(t.currentCity))])])]),t._v(" "),i("div",{staticClass:"city-hot"},[i("div",{staticClass:"city-title"},[t._v("\n        热门城市\n      ")]),t._v(" "),i("div",{staticClass:"city-box"},t._l(t.hotCities,function(e){return i("p",{key:e.id,on:{click:function(i){t.handleCityClick(e.name)}}},[t._v("\n          "+t._s(e.name)+"\n        ")])}))]),t._v(" "),t._l(t.cities,function(e,n){return i("div",{key:n,ref:n,refInFor:!0,staticClass:"city-content"},[i("div",{staticClass:"city-title"},[t._v(t._s(n))]),t._v(" "),t._l(e,function(e){return i("div",{key:e.id,staticClass:"city-content-list",on:{click:function(i){t.handleCityClick(e.name)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})],2)})],2)])},staticRenderFns:[]};var W=i("VU/8")(z,N,!1,function(t){i("MgEO")},"data-v-44abb63e",null).exports,Q={name:"CityLetter",props:{letterList:{type:Array,required:!0},activeIndex:{type:Number,required:!0}},data:function(){return{cityHeaderHeight:0,startHeight:0,liHeight:0}},created:function(){var t=this;this.$bus.$on("cityHeaderHeight",function(e){t.cityHeaderHeight=e})},updated:function(){var t=this.$refs.A[0];this.liHeight=t.clientHeight,this.startHeight=t.offsetTop+this.cityHeaderHeight},methods:{handleClick:function(t){this.$emit("letterPosition",t)},touchstart:function(){this.touchStatus=!0},touchmove:function(t){var e=this;this.touchStatus&&(this.timer&&clearTimeout(this.clearTimeout),this.timer=setTimeout(function(){var i=t.changedTouches[0],n=Math.floor((i.clientY-e.startHeight)/e.liHeight);n>=0&&n<e.letterList.length&&e.$emit("letterPosition",e.letterList[n])},16))},touchend:function(){this.touchStatus=!1}}},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city-letter"},[i("ul",t._l(t.letterList,function(e,n){return i("li",{key:n,ref:e,refInFor:!0,class:{active:n===t.activeIndex},on:{click:function(i){t.handleClick(e)},touchstart:t.touchstart,touchmove:t.touchmove,touchend:t.touchend}},[t._v("\n      "+t._s(e)+"\n    ")])}))])},staticRenderFns:[]};var J={name:"City",components:{CityHeader:Y,CityList:W,CityLetter:i("VU/8")(Q,B,!1,function(t){i("iSQH")},"data-v-144ca16a",null).exports},data:function(){return{cities:{},hotCities:[],letterList:[],position:"",activeIndex:-1}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;O({},function(e){t.cities=e.data.cities,t.hotCities=e.data.hotCities,t.letterList=j()(t.cities)})},letterPosition:function(t){this.position=t}}},K={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city"},[i("CityHeader",{attrs:{cities:t.cities}}),t._v(" "),i("CityList",{attrs:{hotCities:t.hotCities,cities:t.cities,position:t.position},on:{letterScroll:function(e){t.activeIndex=e}}}),t._v(" "),i("CityLetter",{attrs:{letterList:t.letterList,activeIndex:t.activeIndex},on:{letterPosition:t.letterPosition}})],1)},staticRenderFns:[]};var D=i("VU/8")(J,K,!1,function(t){i("/YY7")},"data-v-c78ca156",null).exports;n.a.use(a.a);var G=[{path:"/",component:R,redirect:"/home"},{path:"/home",component:R,name:"首页"},{path:"/city",component:D,name:"城市选择"}],Z=new a.a({routes:G}),X=i("mvHQ"),tt=i.n(X),et=function(t){var e=localStorage.getItem(t);return JSON.parse(e)},it=function(t,e){var i=tt()(e);localStorage.setItem(t,i)},nt="上海";try{var st=et("city");st&&(nt=st)}catch(t){}var rt={city:nt},at={changeCity:function(t,e){t.city=e;var i=it;try{i("city",e)}catch(t){}}};n.a.use(l.a);var ct=new l.a.Store({state:rt,mutations:at,getters:{doubleCity:function(t){return t.city+" "+t.city}}}),ot=i("v5o6"),lt=i.n(ot),ut=(i("QKTF"),i("7QTg")),dt=i.n(ut),ht=(i("v2ns"),i("9n10"),i("szwE"),{name:"BaseIcon",props:{iconText:{type:String,required:!0}},computed:{handleIconText:function(){return"#"+this.iconText}}}),vt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"base-icon"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":this.handleIconText}})])])},staticRenderFns:[]};var ft=i("VU/8")(ht,vt,!1,function(t){i("zHFm")},"data-v-385d9d40",null).exports;lt.a.attach(document.body),n.a.use(dt.a),n.a.prototype.$bus=new n.a,n.a.component("BaseIcon",ft),n.a.config.productionTip=!1,new n.a({router:Z,store:ct,render:function(t){return t(r)}}).$mount("#app")},PWRy:function(t,e){},Pgrf:function(t,e){},bj0y:function(t,e){},dS2I:function(t,e){},iSQH:function(t,e){},szwE:function(t,e){},ubYT:function(t,e){},v2ns:function(t,e){},z7v2:function(t,e){},zHFm:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8dfd0c92ac00bd9a1aea.js.map